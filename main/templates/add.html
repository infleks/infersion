{% extends 'base.html' %} {% block content %}
<title>Infersion Yönet</title>
<ul id="containerManageTabs" class="nav nav-tabs">
  <li class="nav-item">
    <a href="" data-target="#customerContainer" data-toggle="tab" class="nav-link small active">Müşteri Yönetimi</a>
  </li>
  <li class="nav-item">
    <a href="" data-target="#productContainer" data-toggle="tab" class="nav-link small">Ürün Yönetimi</a>
  </li>
  <li class="nav-item">
    <a href="" data-target="#environmentContainer" data-toggle="tab" class="nav-link small">Ortam Yönetimi</a>
  </li>
  <li class="nav-item">
    <a href="" data-target="#actionContainer" data-toggle="tab" class="nav-link small">Aksiyon Yönetimi</a>
  </li>
</ul>

<div class="tab-content" style="padding: 20px 0px;">

  <div class="container tab-pane fade active show" id="customerContainer">

          
    <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#customers"><h4><b>Müşteriler</b></h4></button>
    
    <div id="customers" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Müşteri Adı</th>
              <th></th>
              <th onclick="var myWindow = window.open('/main/addCus', 'Düzenle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>
            </tr>
            {% for c in cus %}
            <tr>
                <td>{{c.customerName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=cus&id={{c.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td onclick="var myWindow = window.open('/main/delete?what=cus&id={{c.pk}}', 'Düzenle', 'width=700, height=400');" style="cursor: pointer;" ><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
                
            </tr>
            {% endfor %}
          </table>
           
        </div>
      </div>
        <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#prodMans"><h4><b>Ürün Yöneticileri</b></h4></button>
    
    <div id="prodMans" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Ürün Yöneticisi</th>
              <th scope="col">E-Mail</th>
              <th scope="col">Telefon</th>
              <th scope="col">Tarihi</th>
              <th scope="col">Müşterisi</th>
              <th scope="col"></th>
              <th onclick="var myWindow = window.open('/main/addProdMan', 'Düzenle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>
            </tr>
            {% for p in prodMan %}
            <tr>
                <td>{{p.prodManName}}</td>
                <td>{{p.prodManEmail}}</td>
                <td>{{p.prodManPhoneNumber}}</td>
                <td>{{p.whenIsProdManResponsible}}</td>
                <td>{{p.customer.customerName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=prodMan&id={{p.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
          </table>
            
            
            
        </div>
      </div>
        <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#techMans"><h4><b>Teknik Sorumlular</b></h4></button>
    
    <div id="techMans" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Teknik Sorumlu</th>
              <th scope="col">E-Mail</th>
              <th scope="col">Telefon</th>
              <th scope="col">Tarihi</th>
              <th scope="col">Müşterisi</th>
              <th scope="col"></th>
              <th onclick="var myWindow = window.open('/main/addTechMan', 'Düzenle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>
            </tr>
            {% for t in techMan %}
            <tr>
                <td>{{t.techManName}}</td>
                <td>{{t.techManEmail}}</td>
                <td>{{t.techManPhoneNumber}}</td>
                <td>{{t.whenIsTechManResponsible}}</td>
                <td>{{t.customer.customerName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=techMan&id={{t.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
          </table>
            
            
        </div>
      </div>
  
  </div>


  <div class="container tab-pane fade" id="productContainer">


    <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#products"><h4><b>Ürünler</b></h4></button>
    
    <div id="products" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Ürün Adı</th>
              <th></th>
              <th onclick="var myWindow = window.open('/main/addProd', 'Ekle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

            </tr>
            {% for p in prod %}
            <tr>
                <td>{{p.productName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=prod&id={{p.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
          </table>
        </div>
      </div>

      <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#prodModule"><h4><b>Ürün Modülleri</b></h4></button>
    
      <div id="prodModule" class="collapse" style="margin: 20px 0px;">
          
          
          <div style="width: 100%; text-align: left; padding: 0px 50px;">
            <table class="table">
              <tr>
                <th scope="col">Modül Adı</th>
                <th scope="col">Ürün</th>
                <th></th>
                <th onclick="var myWindow = window.open('/main/addProdMod', 'Ekle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

              </tr>
              {% for pm in prodMod %}
              <tr>
                  <td>{{pm.moduleName}}</td>
                  <td>{{pm.product.productName}}</td>
                  <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=prodMod&id={{pm.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
              </tr>
              {% endfor %}
            </table>
  
          </div>
        </div>


        <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#prodVer"><h4><b>Ürün Versiyonları</b></h4></button>
    
      <div id="prodVer" class="collapse" style="margin: 20px 0px;">
          
          
          <div style="width: 100%; text-align: left; padding: 0px 50px;">
            <table class="table">
              <tr>
                <th scope="col">Versiyon Adı</th>
                <th scope="col">Modülü</th>
                <th></th>
                <th onclick="var myWindow = window.open('/main/addProdVer', 'Düzenle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

              </tr>
              {% for pv in prodVer %}
              <tr>
                  <td>{{pv.productVersionName}}</td>
                  <td>{{pv.productmodule.moduleName}}</td>
                  <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=prodVer&id={{pv.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                  <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
              </tr>
              {% endfor %}
            </table>
  
          </div>
        </div>
  </div>

  <div class="container tab-pane fade" id="environmentContainer">

    <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#databases"><h4><b>Veritabanları</b></h4></button>
    
    <div id="databases" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Veritabanı Adı</th>
              <th></th>
              <th onclick="var myWindow = window.open('/main/addDB', 'Ekle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

            </tr>
            {% for d in db %}
            <tr>
                <td>{{d.databaseName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=db&id={{d.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
          </table>
           
        </div>
      </div>



      <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#dbVers"><h4><b>Veritabanı Versiyonları</b></h4></button>
    
    <div id="dbVers" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Versiyon Adı</th>
              <th scope="col">Veritabanı</th>
              <th></th>
              <th onclick="var myWindow = window.open('/main/addDbVer', 'Ekle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

            </tr>
            {% for dv in dbHis %}
            <tr>
                <td>{{dv.databaseVersionName}}</td>
                <td>{{dv.database.databaseName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=dbVer&id={{dv.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
          </table>
           
        </div>
      </div>

      
      <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#servers"><h4><b>Sunucular</b></h4></button>
    
    <div id="servers" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Sunucu Adı</th>
              <th></th>
              <th onclick="var myWindow = window.open('/main/addServer', 'Ekle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

            </tr>
            {% for s in server %}
            <tr>
                <td>{{s.serverName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=server&id={{s.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
          </table>
           
        </div>
      </div>


      <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#serverVer"><h4><b>Sunucu Versiyonları</b></h4></button>
    
    <div id="serverVer" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Versiyon Adı</th>
              <th scope="col">Sunucu</th>
              <th></th>
              <th onclick="var myWindow = window.open('/main/addServerVer', 'Ekle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

            </tr>
            {% for sv in svHis %}
            <tr>
                <td>{{sv.serverVersionName}}</td>
                <td>{{sv.server.serverName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=serverVer&id={{sv.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
          </table>
           
        </div>
      </div>


      
  </div>


  <div class="container tab-pane fade" id="actionContainer">

    <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#prodHis"><h4><b>Ürün Geçmişi</b></h4></button>
    
    <div id="prodHis" class="collapse" style="margin: 20px 0px;">
        
        
        <div style="width: 100%; text-align: left; padding: 0px 50px;">
          <table class="table">
            <tr>
              <th scope="col">Müşteri</th>
              <th scope="col">Ürün Tipi</th>
              <th scope="col">Ürün</th>
              <th scope="col">Yükleme Tarihi</th>
              <th scope="col">Sunucu</th>
              <th scope="col">Veritabanı</th>
              <th></th>
              <th onclick="var myWindow = window.open('/main/addProdHis', 'Ekle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

            </tr>
            {% for d in data %}
            {% for k,ph in d.prodHist.items %}
            <tr>
                <td>{{d.cus.customerName}}</td>
                <td>Canlı</td>
                <td>{{ph.productversion.productmodule.product.productName}}, {{ph.productversion.productmodule.moduleName}},
                    {{ph.productversion.productVersionName}}
                </td>
                <td>{{ph.prodInstallationTime}}</td>
                <td>{{ph.serverversion.serverVersionName}}</td>
                <td>{{ph.databaseversion.database.databaseName}}, {{ph.databaseversion.databaseVersionName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=prodHis&id={{ph.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
            {% endfor %}
            
          </table>
           
        </div>
      </div>

      <button class="displayHeaderButton" type="button" class="btn btn-info" data-toggle="collapse" data-target="#testHis"><h4><b>Test Ürün Geçmişi</b></h4></button>
    
      <div id="testHis" class="collapse" style="margin: 20px 0px;">
          
          
          <div style="width: 100%; text-align: left; padding: 0px 50px;">
            <table>
              <tr>
                <th class="text-left">Müşteri</th>
                <th class="text-left">Ürün Tipi</th>
                <th class="text-left">Ürün</th>
                <th class="text-left">Yükleme Tarihi</th>
                <th class="text-left">Sunucu</th>
                <th class="text-left">Veritabanı</th>
                <th></th>
                <th onclick="var myWindow = window.open('/main/addTestHis', 'Ekle', 'width=700, height=400');" style="cursor: pointer;"><i style="cursor: pointer;" href="#" class="fas fa-plus-circle"></i>  Ekle</th>

              </tr>
             

              {% for d in data %}
            {% for k,th in d.testProdHist.items %}
            <tr>
                <td class="text-left">{{d.cus.customerName}}</td>
                <td class="text-left">Test</td>
                <td class="text-left">{{th.productversion.productmodule.product.productName}}, {{th.productversion.productmodule.moduleName}},
                  {{th.productversion.productVersionName}}
                </td>
                <td class="text-left">{{th.testInstallationTime}}</td>
                <td class="text-left">{{th.serverversion.serverVersionName}}</td>
                <td class="text-left">{{th.databaseversion.database.databaseName}}, {{th.databaseversion.databaseVersionName}}</td>
                <td style=" cursor: pointer;" onclick="var myWindow = window.open('/main/edit?what=testHis&id={{th.pk}}', 'Düzenle', 'width=700, height=400');"><i class="fas fa-edit" style="color: #be5254; cursor: pointer;"></i>Düzenle</td>
                <td style="cursor: pointer;"><i class="fas fa-trash-alt" style="color: #be5254; cursor: pointer;"></i>Sil</td>
            </tr>
            {% endfor %}
            {% endfor %}
 
              
            </table>
             
          </div>
        </div>
  

  </div>

</div>
{% endblock %}